<!--
Google IO 2012/2013 HTML5 Slide Template

Authors: Eric Bidelman <ebidel@gmail.com>
         Luke Mah√© <lukem@google.com>

URL: https://code.google.com/p/io-2012-slides
--><!DOCTYPE html>


<html>
<head>
  <title>Debugging &mdash; System Development with Python</title>
  <meta charset="utf-8">
  
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <!--<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">-->
  <!--<meta name="viewport" content="width=device-width, initial-scale=1.0">-->
  <!--This one seems to work all the time, but really small on ipad-->
  <!--<meta name="viewport" content="initial-scale=0.4">-->
  <meta name="apple-mobile-web-app-capable" content="yes">

  <meta name="hieroglyph-title" data-config-title>
  <meta name="hieroglyph-subtitle" data-config-subtitle>
  <meta name="hieroglyph-presenter" data-config-presenter>

  
  <link rel="stylesheet" media="all"
        href="_static/theme/css/default.css">
  <link rel="stylesheet" media="all"
        href="_static/theme/css/hieroglyph.css">
  <link rel="stylesheet" media="only screen and (max-device-width: 480px)"
        href="_static/theme/css/phone.css">

    
    <link rel="stylesheet" href="_static/custom.css"
          type="text/css" />
    

    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <base target="_blank"> <!-- This amazingness opens all links in a new tab. -->
  
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '2.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>

    <script data-main="_static/js/slides"
            src="_static/js/require-1.0.8.min.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    
    <link rel="top" title="System Development with Python" href="index.html" /> 
</head>
<body style="opacity: 0">

<slides class="layout-widescreen">

  <slide class="title-slide segue nobackground">
<!-- The content of this hgroup is replaced programmatically through the slide_config.json. -->
<hgroup class="auto-fadein">
  <h1 data-config-title><!-- populated from slide_config.json --></h1>
  <h2 data-config-subtitle><!-- populated from slide_config.json --></h2>
  <p data-config-presenter><!-- populated from slide_config.json --></p>
</hgroup>
</slide>

  
    <slide class="title-slide segue nobackground level-1" id="debugging">
    <hgroup>
      <h1>Debugging</h1>
    </hgroup>
    <article class="">
      <p>System Development with Python</p>
<ul class="simple">
<li>Maria McKinley</li>
</ul>
<p><code class="docutils literal"><span class="pre">parody&#64;uw.edu</span></code></p>




    </article>
  </slide>  <slide class="level-2" id="topics">
    <hgroup>
      <h2>Topics</h2>
    </hgroup>
    <article class="">
      <ul class="simple">
<li>The call stack</li>
<li>Exceptions</li>
<li>Debugging</li>
</ul>




    </article>
  </slide>  <slide class="level-3" id="the-call-stack">
    <hgroup>
      <h3>The Call Stack</h3>
    </hgroup>
    <article class="">
      <ul class="simple">
<li>A stack is a Last-In-First-Out (LIFO) data structure (stack of plates)</li>
<li>The call stack is a stack data structure that stores information
about the current active function call</li>
<li>The objects in the stack are known as &quot;stack frames&quot;. Each frame
contains the arguments passed to the function, space for local
variables, and the return address</li>
<li>It is usually (unintuitively) displayed like an upside-down stack of
plates, with most recent frame on the bottom.</li>
<li>When a function is called, a stack frame is created for it and pushed
onto the stack</li>
<li>When a function returns, it is popped off the stack and control is
passed to the next item in the stack. If the stack is empty, the
program exits</li>
</ul>
<p><a class="reference external" href="http://www.pythontutor.com/visualize.html#mode=edit">http://www.pythontutor.com/visualize.html#mode=edit</a></p>




    </article>
  </slide>  <slide class="level-3" id="visualize-the-stack">
    <hgroup>
      <h3>Visualize the stack!</h3>
    </hgroup>
    <article class="">
      <a class="reference internal image-reference" href="_images/program_callstack.png"><img alt="_images/program_callstack.png" src="_images/program_callstack.png" style="height: 580px;" /></a>




    </article>
  </slide>  <slide class="level-3" id="id3">
    <hgroup>
      <h3>Visualize the stack!</h3>
    </hgroup>
    <article class="">
      <p class="rubric" id="how-deep-can-that-stack-be">How deep can that stack be?</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>i = 0

def recurse():
    global i
    i += 1
    print i
    recurse()

recurse()
</pre></div>
</div>
<p>That value can be changed with sys.setrecursionlimit(N)</p>
<p>If we try to put more than sys.getrecursionlimit() frames on the stack, we get a RuntimeError, which is python's version of StackOverflow</p>




    </article>
  </slide>  <slide class="level-3" id="id4">
    <hgroup>
      <h3>Visualize the stack!</h3>
    </hgroup>
    <article class="">
      <div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">inspect</span>

<span class="k">def</span> <span class="nf">recurse</span><span class="p">(</span><span class="n">limit</span><span class="p">):</span>
    <span class="n">local_variable</span> <span class="o">=</span> <span class="s1">&#39;.&#39;</span> <span class="o">*</span> <span class="n">limit</span>
    <span class="k">print</span><span class="p">(</span><span class="n">limit</span><span class="p">,</span> <span class="n">inspect</span><span class="o">.</span><span class="n">getargvalues</span><span class="p">(</span><span class="n">inspect</span><span class="o">.</span><span class="n">currentframe</span><span class="p">()))</span>
    <span class="k">if</span> <span class="n">limit</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">return</span>
    <span class="n">recurse</span><span class="p">(</span><span class="n">limit</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
    <span class="k">return</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">recurse</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
<p>module <a class="reference external" href="https://docs.python.org/3/library/inspect.html">https://docs.python.org/3/library/inspect.html</a></p>




    </article>
  </slide>  <slide class="level-3" id="exceptions">
    <hgroup>
      <h3>Exceptions</h3>
    </hgroup>
    <article class="">
      <p>It's easier to ask for forgiveness than permission</p>
<p>When either the interpreter or your own code detects an error condition,
an exception will be raised</p>
<p>The exception will bubble up the call stack until it is handled. If it's
not handled by the bottom of the stack, the interpreter will exit the program.</p>




    </article>
  </slide>  <slide class="level-3" id="id5">
    <hgroup>
      <h3>Exceptions</h3>
    </hgroup>
    <article class="">
      <p>At each level in the stack, a handler can either:</p>
<ul class="simple">
<li>let it bubble through (the default)</li>
<li>swallow the exception</li>
<li>catch the exception and raise it again</li>
<li>catch the exception and raise a new one</li>
</ul>




    </article>
  </slide>  <slide class="level-3" id="id6">
    <hgroup>
      <h3>Exceptions</h3>
    </hgroup>
    <article class="">
      <p class="rubric" id="handling-exceptions">Handling exceptions</p>
<p>The most basic form uses the builtins try and except</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">temp_f_to_c</span><span class="p">(</span><span class="n">var</span><span class="p">):</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">return</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">var</span><span class="p">)</span> <span class="o">-</span> <span class="mi">32</span><span class="p">)</span><span class="o">/</span><span class="mf">1.8000</span>
    <span class="k">except</span> <span class="ne">ValueError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="s2">&quot;The argument does not contain numbers</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
</pre></div>
</div>




    </article>
  </slide>  <slide class="level-3" id="id7">
    <hgroup>
      <h3>Exceptions</h3>
    </hgroup>
    <article class="">
      <p class="rubric" id="a-few-more-builtins-for-exception-handling-finally-else-and-raise">A few more builtins for exception handling: finally, else,
and raise</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">x</span> <span class="o">/</span> <span class="n">y</span>
<span class="k">except</span> <span class="p">(</span><span class="ne">ZeroDivisionError</span><span class="p">,</span> <span class="ne">ValueError</span><span class="p">)</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;caught division error or maybe a value error:</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
<span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="n">errno</span><span class="p">,</span> <span class="n">strerror</span> <span class="o">=</span> <span class="n">e</span><span class="o">.</span><span class="n">args</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;I/O error({0}): {1}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">errno</span><span class="p">,</span><span class="n">strerror</span><span class="p">))</span>
    <span class="c1"># or you can just print e</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;unhandled exception:</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
    <span class="k">raise</span>
<span class="k">else</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;everything worked great&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span>
<span class="k">finally</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;this is executed no matter what&quot;</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s1">&#39;this is only printed if there is no exception&#39;</span><span class="p">)</span>
</pre></div>
</div>




    </article>
  </slide>  <slide class="level-3" id="id8">
    <hgroup>
      <h3>Exceptions</h3>
    </hgroup>
    <article class="">
      <p>It is even possible to use a try block without the exception clause:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="mi">5</span><span class="o">/</span><span class="mi">0</span>
<span class="k">finally</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="s1">&#39;did it work?&#39;</span><span class="p">)</span>
</pre></div>
</div>




    </article>
  </slide>  <slide class="level-3" id="id9">
    <hgroup>
      <h3>Exceptions</h3>
    </hgroup>
    <article class="">
      <p class="rubric" id="built-in-exceptions">Built-in exceptions</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">name</span> <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="nb">dir</span><span class="p">(</span><span class="n">__builtin__</span><span class="p">)</span> <span class="k">if</span> <span class="s2">&quot;Error&quot;</span> <span class="ow">in</span> <span class="n">name</span><span class="p">]</span>
</pre></div>
</div>
<p>If one of these meets your needs, by all means use it. You can add messages:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">raise</span> <span class="ne">SyntaxError</span><span class="p">(</span><span class="s2">&quot;That was a mispelling&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>If no builtin exceptions work, define a new exception type by subclassing Exception.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyException</span><span class="p">(</span><span class="ne">Exception</span><span class="p">):</span>
    <span class="k">pass</span>

<span class="k">raise</span> <span class="n">MyException</span><span class="p">(</span><span class="s2">&quot;An exception doesn&#39;t always prove the rule!&quot;</span><span class="p">)</span>
</pre></div>
</div>




    </article>
  </slide>  <slide class="level-3" id="id10">
    <hgroup>
      <h3>Exceptions</h3>
    </hgroup>
    <article class="">
      <p>It is possible, but discouraged to catch all exceptions.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="n">my_cool_code</span><span class="p">()</span>
<span class="k">except</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="s1">&#39;no idea what the exceptions is, but I caught it&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>An exception to this exception rule is when you are running a service that should not ever crash,
like a web server.</p>
<p>In this case, it is extremely important to have very good logging so that you
have reports of exactly what happened and what exception should have been thrown.</p>




    </article>
  </slide>  <slide class="level-3" id="id11">
    <hgroup>
      <h3>Exceptions</h3>
    </hgroup>
    <article class="">
      <p class="rubric" id="further-reading">Further reading</p>
<ul class="simple">
<li><a class="reference external" href="http://docs.python.org/3/library/exceptions.html">http://docs.python.org/3/library/exceptions.html</a></li>
<li><a class="reference external" href="http://docs.python.org/3/tutorial/errors.html">http://docs.python.org/3/tutorial/errors.html</a></li>
</ul>




    </article>
  </slide>  <slide class="level-3" id="id2">
    <hgroup>
      <h3>Debugging</h3>
    </hgroup>
    <article class="">
      <p class="rubric" id="python-debugging">Python Debugging</p>
<p>You will spend most of your time as a developer debugging.
You will spend more time than you expect on google.</p>




    </article>
  </slide>  <slide class="level-3" id="id12">
    <hgroup>
      <h3>Debugging</h3>
    </hgroup>
    <article class="">
      <p>The Stack Trace</p>
<p>You already know what it looks like. Simple traceback:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>$ python3 test_trie.py
Traceback (most recent call last):
   File &quot;test_trie.py&quot;, line 3, in &lt;module&gt;
     from trie import Trie
   File &quot;/Users/maria/python/trie/trie.py&quot;, line 144
     print &quot;end of word&quot;, node.value
                  ^
SyntaxError: Missing parentheses in call to &#39;print&#39;
</pre></div>
</div>




    </article>
  </slide>  <slide class="level-3" id="id13">
    <hgroup>
      <h3>Debugging</h3>
    </hgroup>
    <article class="">
      <p>But things can quickly get complicated (Here is ~1/3 of a recent traceback I had):</p>
<dl class="docutils">
<dt>Traceback (most recent call last):</dt>
<dd><dl class="first last docutils">
<dt>File &quot;snapi3/tests/test_proxy_rest.py&quot;, line 21, in test_http_get</dt>
<dd>resp = self.app.get(self.TRIVIAL_URL, status=200)</dd>
<dt>File &quot;python3/lib/python3.5/site-packages/webtest/app.py&quot;, line 323, in get</dt>
<dd>expect_errors=expect_errors)</dd>
<dt>File &quot;python3/lib/python3.5/site-packages/webtest/app.py&quot;, line 606, in do_request</dt>
<dd>res = req.get_response(app, catch_exc_info=True)</dd>
<dt>File &quot;python3/lib/python3.5/site-packages/webob/request.py&quot;, line 1313, in send</dt>
<dd>application, catch_exc_info=True)</dd>
<dt>File &quot;python3/lib/python3.5/site-packages/webob/request.py&quot;, line 1284, in call_application</dt>
<dd>output.extend(app_iter)</dd>
</dl>
</dd>
</dl>




    </article>
  </slide>  <slide class="level-3" id="id14">
    <hgroup>
      <h3>Debugging</h3>
    </hgroup>
    <article class="">
      <p>Debuggers are code which allows the inspection of state of other code
during runtime.</p>
<p>Rudimentary tools</p>
<ul class="simple">
<li>print()</li>
<li>interpreter hints</li>
<li>import logging.debug</li>
<li>assert()</li>
</ul>




    </article>
  </slide>  <slide class="level-3" id="id15">
    <hgroup>
      <h3>Debugging</h3>
    </hgroup>
    <article class="">
      <p>Console debuggers</p>
<ul class="simple">
<li>pdb/ipdb</li>
</ul>
<p>GUI debuggers</p>
<ul class="simple">
<li>Winpdb</li>
<li>IDEs: Eclipse, Wing IDE, PyCharm, Visual Studio</li>
</ul>




    </article>
  </slide>  <slide class="level-3" id="id16">
    <hgroup>
      <h3>Debugging</h3>
    </hgroup>
    <article class="">
      <p class="rubric" id="help-from-the-interpreter">help from the interpreter</p>
<ol class="arabic simple">
<li>investigate import issues with -v:</li>
</ol>
<div class="highlight-python"><div class="highlight"><pre><span></span>python -v myscript.py
</pre></div>
</div>
<p>Verbose (trace import statements)</p>
<ol class="arabic simple" start="2">
<li>inspect environment after running script with -i</li>
</ol>
<div class="highlight-python"><div class="highlight"><pre><span></span>python -i myscript.py
</pre></div>
</div>
<p>Forces interpreter to remain active, and still in scope</p>




    </article>
  </slide>  <slide class="level-3" id="id17">
    <hgroup>
      <h3>Debugging</h3>
    </hgroup>
    <article class="">
      <p class="rubric" id="pdb-the-python-debugger"><a class="reference external" href="http://docs.python.org/2/library/pdb.html">Pdb - The Python
Debugger</a></p>
<p>Pros:</p>
<ul class="simple">
<li>You have it already, ships with the standard library</li>
<li>Easy remote debugging</li>
<li>Works with any development environment</li>
</ul>
<p>Cons:</p>
<ul class="simple">
<li>Steep-ish learning curve</li>
<li>Easy to get lost in a deep stack</li>
<li>Watching variables isn't hard, but non-trivial</li>
</ul>




    </article>
  </slide>  <slide class="level-3" id="id18">
    <hgroup>
      <h3>Debugging</h3>
    </hgroup>
    <article class="">
      <p class="rubric" id="pdb-the-python-debugger-1"><a class="reference external" href="http://docs.python.org/2/library/pdb.html">Pdb - The Python
Debugger</a></p>
<p>The 4-fold ways of invoking pdb</p>
<ul class="simple">
<li>Postmortem mode</li>
<li>Run mode</li>
<li>Script mode</li>
<li>Trace mode</li>
</ul>
<p>Note: in most cases where you see the word 'pdb' in the examples, you
can replace it with 'ipdb'. ipdb is the ipython enhanced version of pdb
which is mostly compatible, and generally easier to work with. But it
doesn't ship with Python.</p>




    </article>
  </slide>  <slide class="level-3" id="id19">
    <hgroup>
      <h3>Debugging</h3>
    </hgroup>
    <article class="">
      <p class="rubric" id="postmortem-mode">Postmortem mode</p>
<p>For analyzing crashes due to uncaught exceptions</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>python -i script.py
import pdb; pdb.pm()
</pre></div>
</div>




    </article>
  </slide>  <slide class="level-3" id="id20">
    <hgroup>
      <h3>Debugging</h3>
    </hgroup>
    <article class="">
      <p class="rubric" id="run-mode">Run mode</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">pdb</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;some.expression()&#39;</span><span class="p">)</span>
</pre></div>
</div>




    </article>
  </slide>  <slide class="level-3" id="id21">
    <hgroup>
      <h3>Debugging</h3>
    </hgroup>
    <article class="">
      <p class="rubric" id="script-mode">Script mode</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>python -m pdb script.py
</pre></div>
</div>
<p>&quot;-m [module]&quot; finds [module] in sys.path and executes it as a script</p>




    </article>
  </slide>  <slide class="level-3" id="id22">
    <hgroup>
      <h3>Debugging</h3>
    </hgroup>
    <article class="">
      <p class="rubric" id="trace-mode">Trace mode</p>
<p>Insert the following line into your code where you want execution to
halt:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pdb</span><span class="p">;</span> <span class="n">pdb</span><span class="o">.</span><span class="n">set_trace</span><span class="p">()</span>
</pre></div>
</div>
<p>It's not always OK/possible to modify your code in order to debug it,
but this is often the quickest way to begin inspecting state</p>




    </article>
  </slide>  <slide class="level-3" id="id23">
    <hgroup>
      <h3>Debugging</h3>
    </hgroup>
    <article class="">
      <p class="rubric" id="pdb-in-ipython">pdb in ipython</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>In [2]: pdb
Automatic pdb calling has been turned ON

%run app.py

# now halts execution on uncaught exception
</pre></div>
</div>
<p>If you forget to turn on pdb, the magic command %debug will activate the
debugger (in 'post-mortem mode').</p>




    </article>
  </slide>  <slide class="level-3" id="id24">
    <hgroup>
      <h3>Debugging</h3>
    </hgroup>
    <article class="">
      <p class="rubric" id="navigating-pdb">Navigating pdb</p>
<p>The goal of each of the preceding techniques was to get to the pdb
prompt and get to work inspecting state. Most commands can be short-cutted
to the first letter.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>% python -m pdb define.py
pdb&gt; args  # print arguments and values to current function
pdb&gt; pp a_variable  # pretty-print a_variable
pdb&gt; where  # print stack trace, bottom is most recent command
pdb&gt; list  # list the code including and surrounding the current running code
</pre></div>
</div>




    </article>
  </slide>  <slide class="level-3" id="id25">
    <hgroup>
      <h3>Debugging</h3>
    </hgroup>
    <article class="">
      <p>To repeat the current command, press only the Enter key</p>
<div class="highlight-python"><div class="highlight"><pre><span></span># execute until current function returns
pdb&gt; return
# Execute the current line, stop at the first possible occasion
pdb&gt; step
# Continue execution until the next line in the current function is reached or it returns.
pdb&gt; next
# Continue execution until the line with a number greater than the current one is reached
  or until the current frame returns.  Good for exiting loops.
pdb&gt; until
# move one level up the stack
pdb&gt; up
# move one level down the stack
pdb&gt; down
pdb&gt; continue  # goes until next breakpoint or end of program
# advanced: create commands to be executed on a breakpoint
pdb&gt; commands
</pre></div>
</div>




    </article>
  </slide>  <slide class="level-3" id="id26">
    <hgroup>
      <h3>Debugging</h3>
    </hgroup>
    <article class="">
      <p class="rubric" id="breakpoints">Breakpoints</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>pdb&gt; help break
  b(reak) ([file:]lineno | function) [, condition]
  With a line number argument, set a break there in the current
  file.  With a function name, set a break at first executable line
  of that function.  Without argument, list all breaks.  If a second
  argument is present, it is a string specifying an expression
  which must evaluate to true before the breakpoint is honored.

  The line number may be prefixed with a filename and a colon,
  to specify a breakpoint in another file (probably one that
  hasn&#39;t been loaded yet).  The file is searched for on sys.path;
  the .py suffix may be omitted.
</pre></div>
</div>




    </article>
  </slide>  <slide class="level-3" id="id27">
    <hgroup>
      <h3>Debugging</h3>
    </hgroup>
    <article class="">
      <p>Can use up, down, where and list to evalutate where you are, and use that to
set a new breakpoint in code coming up. Useful for getting out of rabbit holes.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>pdb&gt; break api.py:21 set a breakpoint file:line #
pdb&gt; break  # list breakpoints
pdb&gt; clear 1  # get rid of first breakpoint
pdb&gt; break 35  # set a breakpoint in current file at line 35
# print lines in range
pdb&gt; list 1,28
</pre></div>
</div>




    </article>
  </slide>  <slide class="level-3" id="id28">
    <hgroup>
      <h3>Debugging</h3>
    </hgroup>
    <article class="">
      <p>Clear (delete) breakpoints</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">clear</span> <span class="p">[</span><span class="n">bpnumber</span> <span class="p">[</span><span class="n">bpnumber</span><span class="o">...</span><span class="p">]]</span>
</pre></div>
</div>
<p>disable breakpoints</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">disable</span> <span class="p">[</span><span class="n">bpnumber</span> <span class="p">[</span><span class="n">bpnumber</span><span class="o">...</span><span class="p">]]</span>
</pre></div>
</div>
<p>enable breakpoints</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">enable</span> <span class="p">[</span><span class="n">bpnumber</span> <span class="p">[</span><span class="n">bpnumber</span><span class="o">...</span><span class="p">]]</span>
</pre></div>
</div>




    </article>
  </slide>  <slide class="level-3" id="id29">
    <hgroup>
      <h3>Debugging</h3>
    </hgroup>
    <article class="">
      <p class="rubric" id="conditional-breakpoints">Conditional Breakpoints</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>pdb&gt; help condition
condition bpnumber str_condition
str_condition is a string specifying an expression which
must evaluate to true before the breakpoint is honored.
If str_condition is absent, any existing condition is removed;
i.e., the breakpoint is made unconditional.
</pre></div>
</div>




    </article>
  </slide>  <slide class="level-3" id="id30">
    <hgroup>
      <h3>Debugging</h3>
    </hgroup>
    <article class="">
      <p class="rubric" id="invoking-pdb-with-nose">Invoking pdb with nose</p>
<p>On error condition, drop to pdb</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">nosetests</span> <span class="o">--</span><span class="n">pdb</span>
</pre></div>
</div>
<p>On test failure, drop to pdb:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">nosetests</span> <span class="o">--</span><span class="n">pdb</span><span class="o">-</span><span class="n">failures</span>
</pre></div>
</div>




    </article>
  </slide>  <slide class="level-3" id="id31">
    <hgroup>
      <h3>Debugging</h3>
    </hgroup>
    <article class="">
      <p class="rubric" id="python-ides">Python IDEs</p>
<p class="rubric" id="pycharm">PyCharm</p>
<p>From JetBrains, and integrates some of their vast array of development
tools</p>
<p>Free Community Edition (CE) is available</p>
<p>Good visual debugging support</p>




    </article>
  </slide>  <slide class="level-3" id="id32">
    <hgroup>
      <h3>Debugging</h3>
    </hgroup>
    <article class="">
      <p class="rubric" id="eclipse">Eclipse</p>
<p>A multi-language IDE</p>
<p>Python support via <a class="reference external" href="http://pydev.org/">http://pydev.org/</a></p>
<p>Automatic variable and expression watching</p>
<p>Supports a lot of debugging features like conditional breakpoints,
provided you look in the right places!</p>
<p>Further reading</p>
<p><a class="reference external" href="http://pydev.org/manual_adv_debugger.html">http://pydev.org/manual_adv_debugger.html</a></p>




    </article>
  </slide>  <slide class="level-3" id="id33">
    <hgroup>
      <h3>Debugging</h3>
    </hgroup>
    <article class="">
      <p class="rubric" id="winpdb">winpdb</p>
<p>A multi platform Python debugger with threading support</p>
<p>Easier to start up and get debugging</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>winpdb your_app.py
</pre></div>
</div>
<p class="rubric" id="remote-debugging-with-winpdb">Remote debugging with winpdb</p>




    </article>
  </slide>  <slide class="level-3" id="id34">
    <hgroup>
      <h3>Debugging</h3>
    </hgroup>
    <article class="">
      <p>To debug an application running a different Python, even remotely:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">rpdb2</span><span class="p">;</span> <span class="n">rpdb2</span><span class="o">.</span><span class="n">start_embedded_debugger</span><span class="p">(</span><span class="s2">&quot;password&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p><a class="reference external" href="http://winpdb.org/tutorial/WinpdbTutorial.html">http://winpdb.org/tutorial/WinpdbTutorial.html</a></p>




    </article>
  </slide>  <slide class="level-3" id="id35">
    <hgroup>
      <h3>Debugging</h3>
    </hgroup>
    <article class="">
      <p class="rubric" id="debugging-exercise">Debugging exercise</p>
<p>Find the wikidef app in the examples folder</p>
<p>See if you can find the bug and get the app working. Use whatever debugging
technique(s) you prefer.</p>
<p>To run the app:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>python define.py interesting_topic
</pre></div>
</div>
<p>where interesting_topic is a topic of interest. ;-)</p>




    </article>
  </slide>  <slide class="level-3" id="id36">
    <hgroup>
      <h3>Debugging</h3>
    </hgroup>
    <article class="">
      <p>Once it is working again:
Using (i)pdb in module mode (python -m pdb ) to find the server type that
wikipedia is using by looking at
response.headers.headers in Wikipedia.article</p>
<p>You can enter the debugger by running</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>python -m pdb ./define.py robot
</pre></div>
</div>
<p>(define.py takes the first sys arg and finds articles on wikipedia on that topic)</p>
<p>You can get to the code by walking through each line with 's'tep and
'n'ext commands, or by setting a breakpoint and 'c'ontinuing.</p>
<p>What's the result?</p>




    </article>
  </slide>  <slide class="level-3" id="id37">
    <hgroup>
      <h3>Debugging</h3>
    </hgroup>
    <article class="">
      <p class="rubric" id="questions">Questions?</p>




    </article>
  </slide>


  <slide class="thank-you-slide segue nobackground">
  <article class="flexbox vleft auto-fadein">
    <h2>Thank You!</h2>
  </article>
  <p class="auto-fadein" data-config-contact>
    <!-- populated from slide_config.json -->
  </p>
</slide>

  <slide class="backdrop"></slide>

</slides>

<!--[if IE]>
  <script src="http://ajax.googleapis.com/ajax/libs/chrome-frame/1/CFInstall.min.js"></script>
  <script>CFInstall.check({mode: 'overlay'});</script>
<![endif]-->
</body>
</html>